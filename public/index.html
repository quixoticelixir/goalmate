<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GoalMate - –¢—Ä–µ–∫–µ—Ä —Ü–µ–ª–µ–π –∏ –ø—Ä–∏–≤—ã—á–µ–∫</title>
  <style>
    :root {
      --bg: #020617;
      --card: #020617;
      --accent: #38bdf8;
      --accent-strong: #0ea5e9;
      --text: #e5e7eb;
      --muted: #94a3b8;
      --border: #1f2937;
      --error: #ef4444;
      --success: #10b981;
      --warning: #f59e0b;
      --goal-color: #8b5cf6;
    }
    * { box-sizing: border-box; }
    body { margin: 0; font-family: system-ui, sans-serif; color: var(--text); background: #000; }
    .app { display: flex; min-height: 100vh; }
    .sidebar {
      width: 220px;
      background: rgba(15, 23, 42, 0.95);
      border-right: 1px solid var(--border);
      padding: 24px 0;
    }
    .sidebar h1 {
      padding: 0 24px 24px;
      font-size: 20px;
      margin: 0;
      color: var(--accent);
    }
    .sidebar-item {
      padding: 12px 24px;
      color: var(--muted);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .sidebar-item:hover, .sidebar-item.active {
      color: var(--text);
      background: rgba(30, 64, 175, 0.5);
    }
    .sidebar-item.active {
      border-left: 3px solid var(--accent);
    }
    .main-content { flex: 1; padding: 24px; overflow-y: auto; }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      flex-wrap: wrap;
      gap: 16px;
    }
    .auth-card {
      padding: 20px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(15, 23, 42, 0.9);
      margin-bottom: 20px;
    }
    button {
      padding: 8px 16px;
      border-radius: 8px;
      border: none;
      background: var(--accent);
      color: #020617;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.2s;
      font-size: 14px;
    }
    button:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(56, 189, 248, 0.3);
    }
    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none !important;
      box-shadow: none !important;
    }
    .button-secondary {
      background: #1e293b;
      color: var(--text);
    }
    .button-goal {
      background: var(--goal-color);
      color: white;
    }
    .button-secondary:hover:not(:disabled) {
      box-shadow: 0 4px 12px rgba(30, 41, 59, 0.3);
    }
    .habit-card, .goal-card, .subgoal-card {
      background: rgba(15, 23, 42, 0.9);
      padding: 16px;
      border-radius: 10px;
      margin-bottom: 12px;
      border: 1px solid var(--border);
      transition: all 0.3s ease;
    }
    .habit-card:hover, .goal-card:hover, .subgoal-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }
    .goal-card {
      border-left: 4px solid var(--goal-color);
    }
    .subgoal-card {
      margin-left: 20px;
      border-left: 3px solid var(--accent);
      background: rgba(30, 41, 59, 0.7);
    }
    .habit-title, .goal-title { 
      font-size: 16px; 
      margin: 0 0 8px; 
      font-weight: 500; 
    }
    .goal-title {
      color: var(--goal-color);
    }
    .subgoal-title {
      font-size: 14px;
      margin: 0 0 6px;
      color: var(--accent);
    }
    .habit-stats, .goal-stats, .subgoal-stats { 
      font-size: 13px; 
      color: var(--muted); 
      margin: 4px 0; 
    }
    .subgoal-stats {
      font-size: 12px;
    }
    .empty-state { 
      color: var(--muted); 
      font-style: italic; 
      margin: 20px 0; 
      text-align: center; 
      padding: 20px;
      background: rgba(30, 41, 59, 0.3);
      border-radius: 8px;
    }
    input, textarea, select {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border-radius: 8px;
      border: 1px solid #111827;
      background: #020617;
      color: var(--text);
      font-size: 14px;
      font-family: inherit;
    }
    input:focus, textarea:focus, select:focus {
      outline: 2px solid var(--accent);
      border-color: var(--accent);
    }
    textarea {
      min-height: 100px;
      resize: vertical;
    }
    
    /* –ö–∞–ª–µ–Ω–¥–∞—Ä—å */
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 20px 0;
      flex-wrap: wrap;
      gap: 12px;
    }
    .calendar-grid {
      display: grid;
      grid-template-columns: 180px repeat(auto-fit, minmax(36px, 1fr));
      gap: 2px;
      overflow-x: auto;
    }
    .calendar-row {
      display: contents;
    }
    .calendar-cell {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2px;
      border-radius: 4px;
      font-size: 10px;
      background: transparent;
    }
    .calendar-cell.habit-label {
      aspect-ratio: auto;
      text-align: right;
      font-weight: 500;
      padding: 6px;
      background: rgba(15, 23, 42, 0.8);
      position: sticky;
      left: 0;
      z-index: 1;
    }
    .calendar-cell.day-header {
      flex-direction: column;
      background: transparent !important;
      color: var(--muted);
      font-size: 10px;
    }
    .calendar-cell.day-header .day-number { font-weight: bold; }
    .calendar-cell.day-cell {
      cursor: pointer;
      background: #1f2937;
      transition: background 0.2s;
    }
    .calendar-cell.day-cell:hover { background: #334155; }
    .marker {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    .marker.checked { background: var(--accent); }
    .marker.today { border: 2px solid var(--accent); }
    
    /* Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 12px 20px;
      border-radius: 8px;
      background: var(--card);
      border: 1px solid var(--border);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      animation: slideIn 0.3s ease-out;
      max-width: 300px;
    }
    .toast.success { border-left: 4px solid var(--success); }
    .toast.error { border-left: 4px solid var(--error); }
    .toast.info { border-left: 4px solid var(--accent); }
    .toast.warning { border-left: 4px solid var(--warning); }
    
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    /* –°–ø–∏–Ω–Ω–µ—Ä –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã */
    .spinner {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: var(--text);
      animation: spin 1s ease-in-out infinite;
    }
    
    .decompose-spinner {
      width: 24px;
      height: 24px;
      border-width: 3px;
      margin-right: 10px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* –ú–æ–¥–∞–ª–∫–∏ */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .modal-content {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      max-width: 500px;
      width: 100%;
      padding: 24px;
      position: relative;
      max-height: 90vh;
      overflow-y: auto;
    }
    
    .modal-wide {
      max-width: 700px;
    }
    
    /* –¢–∞–±—ã */
    .tabs {
      display: flex;
      border-bottom: 1px solid var(--border);
      margin-bottom: 20px;
    }
    
    .tab {
      padding: 10px 20px;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.2s;
    }
    
    .tab.active {
      border-bottom-color: var(--accent);
      color: var(--accent);
    }
    
    /* –ü—Ä–æ–≥—Ä–µ—Å—Å */
    .progress-container {
      margin: 15px 0;
    }
    
    .progress-bar {
      height: 6px;
      background: var(--border);
      border-radius: 3px;
      overflow: hidden;
      margin: 5px 0;
    }
    
    .progress-fill {
      height: 100%;
      background: var(--accent);
      transition: width 0.3s ease;
    }
    
    .progress-fill.goal {
      background: var(--goal-color);
    }
    
    /* –°–ª–æ–∂–Ω–æ—Å—Ç—å */
    .complexity-badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 500;
      margin-left: 8px;
    }
    
    .complexity-easy {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .complexity-medium {
      background: rgba(234, 179, 8, 0.2);
      color: #eab308;
    }
    
    .complexity-hard {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    /* –§–æ—Ä–º—ã –∏ –æ—à–∏–±–∫–∏ */
    .form-group {
      margin-bottom: 16px;
    }

    .form-group label {
      display: block;
      margin-bottom: 6px;
      font-size: 14px;
      color: var(--text);
      font-weight: 500;
    }

    .error-message {
      color: var(--error);
      font-size: 12px;
      margin-top: 4px;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .error-message::before {
      content: "‚ö†";
    }

    /* –ö–Ω–æ–ø–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è */
    .button-success {
      background: var(--success) !important;
      color: white !important;
    }

    .button-success:hover:not(:disabled) {
      background: #059669 !important;
    }

    .button-warning {
      background: var(--warning) !important;
      color: #020617 !important;
    }

    /* AI —Å–µ–∫—Ü–∏—è */
    .ai-plan {
      background: rgba(139, 92, 246, 0.1);
      border: 1px solid rgba(139, 92, 246, 0.3);
      border-radius: 8px;
      padding: 12px;
      margin: 10px 0;
    }

    .ai-plan-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .ai-plan-title {
      font-weight: 500;
      color: var(--goal-color);
    }

    .subgoal-step {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 8px;
      padding: 8px;
      background: rgba(15, 23, 42, 0.5);
      border-radius: 6px;
    }

    .subgoal-step-number {
      width: 24px;
      height: 24px;
      background: var(--accent);
      color: #020617;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      flex-shrink: 0;
    }

    .subgoal-step-content {
      flex: 1;
    }

    .subgoal-step-title {
      font-weight: 500;
      margin-bottom: 2px;
    }

    .subgoal-step-meta {
      font-size: 11px;
      color: var(--muted);
      display: flex;
      gap: 12px;
    }
    
    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 768px) {
      .app { flex-direction: column; }
      .sidebar { width: 100%; height: auto; padding: 16px 0; }
      .sidebar h1 { padding: 0 16px 16px; }
      .sidebar-item { padding: 12px 16px; }
      .main-content { padding: 16px; }
      .calendar-grid { grid-template-columns: 120px repeat(auto-fit, minmax(32px, 1fr)); }
      .calendar-cell.habit-label { font-size: 12px; }
      header { flex-direction: column; align-items: flex-start; }
      .modal-content { padding: 16px; }
    }
    
    @media (max-width: 480px) {
      .calendar-header { flex-direction: column; align-items: flex-start; }
      .calendar-grid { grid-template-columns: 100px repeat(auto-fit, minmax(28px, 1fr)); }
      .tabs { flex-direction: column; }
      .tab { padding: 8px; }
    }
    
    /* AI –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è */
    .decomposition-result {
      background: rgba(30, 41, 59, 0.5);
      border-radius: 8px;
      padding: 16px;
      margin: 16px 0;
      border: 1px solid var(--border);
    }
    
    .subgoal-item {
      background: rgba(15, 23, 42, 0.8);
      padding: 12px;
      margin: 8px 0;
      border-radius: 6px;
      border-left: 3px solid var(--accent);
    }
    
    /* –î–µ–¥–ª–∞–π–Ω—ã */
    .deadline-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 12px;
      background: rgba(139, 92, 246, 0.2);
      color: var(--goal-color);
      margin-left: 8px;
    }
    
    /* –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç */
    .priority-high {
      color: #ef4444;
      font-weight: bold;
    }
    
    .priority-medium {
      color: #f59e0b;
    }
    
    .priority-low {
      color: #10b981;
    }
    
    /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
    .fade-in {
      animation: fadeIn 0.5s ease-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .slide-down {
      animation: slideDown 0.3s ease-out;
    }
    
    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
  <div id="auth-screen" class="auth-card" style="width:100%;max-width:400px;margin:100px auto;">
    <h1 style="text-align:center;margin-bottom:24px;">GoalMate</h1>
    <input type="email" id="auth-email" placeholder="Email" required>
    <input type="password" id="auth-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
    <button type="button" id="btn-login" style="width:100%;margin:10px 0;">
      <span id="login-text">–í–æ–π—Ç–∏</span>
      <span id="login-spinner" class="spinner" style="display:none;"></span>
    </button>
    <button type="button" id="btn-register" style="width:100%;background:#1e293b;">
      <span id="register-text">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span>
      <span id="register-spinner" class="spinner" style="display:none;"></span>
    </button>
    <div id="auth-status" style="margin-top:12px;color:var(--muted);text-align:center;min-height:20px;"></div>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
  <div id="app-content" style="display:none;">
    <div class="app">
      <!-- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é -->
      <aside class="sidebar">
        <h1>GoalMate</h1>
        <div class="sidebar-item" data-page="home" role="button" tabindex="0">
          <span>üè†</span> –ì–ª–∞–≤–Ω–∞—è
        </div>
        <div class="sidebar-item" data-page="goals" role="button" tabindex="0">
          <span>üéØ</span> –ú–æ–∏ —Ü–µ–ª–∏
        </div>
        <div class="sidebar-item" data-page="habits-tracker" role="button" tabindex="0">
          <span>üîÅ</span> –¢—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫
        </div>
        <div class="sidebar-item" data-page="logout" role="button" tabindex="0">
          <span>üö™</span> –í—ã–π—Ç–∏
        </div>
      </aside>

      <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
      <main class="main-content">
        <header>
          <div>
            <h1 id="page-title">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</h1>
            <div id="page-subtitle" style="color:var(--muted);font-size:14px;"></div>
          </div>
          <div style="display:flex;align-items:center;gap:12px;">
            <div style="width:36px;height:36px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;color:#020617;font-weight:bold;flex-shrink:0;">
              <span id="user-initial">G</span>
            </div>
            <span id="user-email" style="font-size:14px;"></span>
          </div>
        </header>

        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <section id="page-home" style="display:block;">
          <div class="auth-card" style="max-width:500px;">
            <h2 style="margin-top:0;">–ß—Ç–æ —Ö–æ—á–µ—à—å —Å–¥–µ–ª–∞—Ç—å?</h2>
            <button type="button" id="btn-goals" class="button-goal" style="width:100%;margin:10px 0;padding:12px;">
              üéØ –ü–æ—Å—Ç–∞–≤–∏—Ç—å —Ü–µ–ª—å
            </button>
            <button type="button" id="btn-habits" style="width:100%;margin:10px 0;padding:12px;background:#1e293b;">
              üîÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∞–º–∏
            </button>
            <div id="quick-stats" style="margin-top:20px;padding-top:20px;border-top:1px solid var(--border);">
              <h3 style="margin-top:0;font-size:16px;">–ë—ã—Å—Ç—Ä–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
              <div id="stats-content"></div>
            </div>
          </div>
        </section>

        <!-- –†–∞–∑–¥–µ–ª —Ü–µ–ª–µ–π -->
        <section id="page-goals" style="display:none;">
          <div class="auth-card">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:10px;">
              <h2 style="margin:0;">üéØ –ú–æ–∏ —Ü–µ–ª–∏</h2>
              <button type="button" id="btn-add-goal" class="button-goal">
                + –ù–æ–≤–∞—è —Ü–µ–ª—å
              </button>
            </div>
            
            <div class="tabs">
              <div class="tab active" data-tab="active-goals">–ê–∫—Ç–∏–≤–Ω—ã–µ</div>
              <div class="tab" data-tab="completed-goals">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</div>
              <div class="tab" data-tab="archived-goals">–ê—Ä—Ö–∏–≤</div>
            </div>
            
            <div id="goals-tab-content">
              <div id="active-goals" class="tab-pane active">
                <div id="goals-list-container"></div>
              </div>
              <div id="completed-goals" class="tab-pane" style="display:none;">
                <div id="completed-goals-container"></div>
              </div>
              <div id="archived-goals" class="tab-pane" style="display:none;">
                <div id="archived-goals-container"></div>
              </div>
            </div>
            
            <div style="display:flex;gap:10px;margin-top:20px;flex-wrap:wrap;">
              <button type="button" id="btn-back-to-home-from-goals" class="button-secondary">
                ‚Üê –ù–∞–∑–∞–¥
              </button>
              <button type="button" id="btn-refresh-goals" class="button-secondary">
                ‚ü≥ –û–±–Ω–æ–≤–∏—Ç—å
              </button>
            </div>
          </div>
        </section>

        <!-- –ü–∞–Ω–µ–ª—å –ø—Ä–∏–≤—ã—á–µ–∫ -->
        <section id="page-habits-list" style="display:none;">
          <div class="auth-card">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
              <h2 style="margin:0;">–ú–æ–∏ –ø—Ä–∏–≤—ã—á–∫–∏</h2>
              <button type="button" id="btn-add-habit" class="button-secondary">
                + –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É
              </button>
            </div>
            <div id="habits-list-container"></div>
            <div style="display:flex;gap:10px;margin-top:20px;">
              <button type="button" id="btn-back-to-home" class="button-secondary" style="flex:1;">
                ‚Üê –ù–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É
              </button>
              <button type="button" id="btn-refresh-habits" class="button-secondary" style="flex:1;">
                ‚ü≥ –û–±–Ω–æ–≤–∏—Ç—å
              </button>
            </div>
          </div>
        </section>

        <!-- –¢—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫ -->
        <section id="page-habits-tracker" style="display:none;">
          <div class="auth-card">
            <h2 style="margin-top:0;">–¢—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫</h2>
            
            <h3>–°–µ–≥–æ–¥–Ω—è</h3>
            <div id="today-habits"></div>

            <div class="calendar-header">
              <div style="display:flex;gap:8px;flex-wrap:wrap;">
                <button type="button" id="btn-calendar-week" class="button-secondary">–ù–µ–¥–µ–ª—è</button>
                <button type="button" id="btn-calendar-month" class="button-secondary">–ú–µ—Å—è—Ü</button>
                <button type="button" id="btn-prev-period" class="button-secondary">‚Üê</button>
                <button type="button" id="btn-next-period" class="button-secondary">‚Üí</button>
              </div>
              <div id="calendar-period-title" style="font-weight:500;"></div>
            </div>

            <div id="calendar-container"></div>
            
            <div style="display:flex;gap:10px;margin-top:20px;">
              <button type="button" id="btn-export-data" class="button-secondary" style="flex:1;">
                üìä –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
              </button>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏ -->
  <div id="habit-modal" class="modal">
    <div class="modal-content">
      <h3 style="margin-top:0;">–ù–æ–≤–∞—è –ø—Ä–∏–≤—ã—á–∫–∞</h3>
      <input type="text" id="habit-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–∏—Ç—å 2 –ª–∏—Ç—Ä–∞ –≤–æ–¥—ã" autofocus>
      <div style="margin:10px 0;">
        <label style="display:flex;align-items:center;gap:8px;font-size:14px;">
          <input type="checkbox" id="habit-daily">
          –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–∏–≤—ã—á–∫–∞
        </label>
      </div>
      <div style="display:flex;gap:10px;margin-top:20px;">
        <button type="button" id="habit-save" style="flex:1;">
          <span id="save-text">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span>
          <span id="save-spinner" class="spinner" style="display:none;"></span>
        </button>
        <button type="button" id="habit-cancel" style="flex:1;background:#1e293b;">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ü–µ–ª–∏ -->
<div id="goal-modal" class="modal">
  <div class="modal-content modal-wide">
    <h3 style="margin-top:0;">üéØ –ù–æ–≤–∞—è —Ü–µ–ª—å</h3>
    
    <div class="form-group">
      <label for="goal-title">–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏ <span style="color:var(--error);">*</span></label>
      <input type="text" id="goal-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–∑—É—á–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫" required>
      <div id="goal-title-error" class="error-message" style="display:none;"></div>
    </div>
    
    <div class="form-group">
      <label for="goal-description">–û–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–∏ <span style="color:var(--error);">*</span></label>
      <textarea id="goal-description" placeholder="–û–ø–∏—à–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ —Ü–µ–ª–∏... –ß—Ç–æ –∏–º–µ–Ω–Ω–æ —Ö–æ—Ç–∏—Ç–µ –¥–æ—Å—Ç–∏—á—å? –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ? –ö–∞–∫–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞?" rows="3"></textarea>
      <div id="goal-description-error" class="error-message" style="display:none;"></div>
    </div>
    
    <div class="form-group">
      <label for="goal-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
      <select id="goal-category">
        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
        <option value="health">–ó–¥–æ—Ä–æ–≤—å–µ</option>
        <option value="career">–ö–∞—Ä—å–µ—Ä–∞</option>
        <option value="education">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</option>
        <option value="finance">–§–∏–Ω–∞–Ω—Å—ã</option>
        <option value="relationships">–û—Ç–Ω–æ—à–µ–Ω–∏—è</option>
        <option value="personal">–õ–∏—á–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ</option>
        <option value="hobby">–•–æ–±–±–∏</option>
        <option value="other">–î—Ä—É–≥–æ–µ</option>
      </select>
    </div>
    
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:10px 0;">
      <div class="form-group">
        <label for="goal-priority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
        <select id="goal-priority">
          <option value="low">–ù–∏–∑–∫–∏–π</option>
          <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
          <option value="high">–í—ã—Å–æ–∫–∏–π</option>
        </select>
      </div>
      <div class="form-group">
        <label for="goal-complexity">–°–ª–æ–∂–Ω–æ—Å—Ç—å</label>
        <select id="goal-complexity">
          <option value="easy">–õ–µ–≥–∫–∞—è</option>
          <option value="medium" selected>–°—Ä–µ–¥–Ω—è—è</option>
          <option value="hard">–°–ª–æ–∂–Ω–∞—è</option>
        </select>
      </div>
    </div>
    
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:10px 0;">
      <div class="form-group">
        <label for="goal-deadline">–î–µ–¥–ª–∞–π–Ω</label>
        <input type="date" id="goal-deadline">
      </div>
      <div class="form-group">
        <label for="goal-duration">–û–∂–∏–¥–∞–µ–º–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–¥–Ω–µ–π)</label>
        <input type="number" id="goal-duration" min="1" max="365" placeholder="30" value="30">
      </div>
    </div>
    
    <!-- AI –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∫–∞–∫ –∫–Ω–æ–ø–∫–∞ -->
    <div class="form-group" style="margin:20px 0;">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
        <div>
          <strong>üéØ –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Ü–µ–ª–∏</strong>
          <div style="font-size:12px;color:var(--muted);">
            AI —Ä–∞–∑–æ–±—å–µ—Ç —Ü–µ–ª—å –Ω–∞ –ø–æ–¥—Ü–µ–ª–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –ø–ª–∞–Ω –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
          </div>
        </div>
        <button type="button" id="btn-ai-decompose" class="button-secondary" style="font-size:12px;">
          –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é
        </button>
      </div>
      
      <div id="ai-decomposition-section" style="display:none;">
        <div style="background:rgba(30,41,59,0.5);padding:12px;border-radius:8px;margin:10px 0;">
          <div id="ai-status" style="display:flex;align-items:center;margin-bottom:8px;">
            <span class="spinner decompose-spinner" style="display:none;margin-right:8px;"></span>
            <span id="ai-status-text">AI –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à—É —Ü–µ–ª—å –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –ø–ª–∞–Ω</span>
          </div>
          <div id="ai-suggestions" style="display:none;"></div>
          <div id="ai-error" style="display:none;color:var(--error);font-size:12px;"></div>
        </div>
      </div>
    </div>
    
    <div style="display:flex;gap:10px;margin-top:20px;">
      <button type="button" id="goal-save" style="flex:1;" class="button-goal" disabled>
        <span id="goal-save-text">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–µ–ª—å</span>
        <span id="goal-save-spinner" class="spinner" style="display:none;"></span>
      </button>
      <button type="button" id="goal-cancel" style="flex:1;background:#1e293b;">–û—Ç–º–µ–Ω–∞</button>
    </div>
    
    <div style="margin-top:12px;font-size:11px;color:var(--muted);">
      <div>üí° <strong>–ü–æ–¥—Å–∫–∞–∑–∫–∏:</strong></div>
      <div>‚Ä¢ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–∏</div>
      <div>‚Ä¢ –î–ª—è –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–µ—Ç–∫–∏–µ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏</div>
      <div>‚Ä¢ –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–µ–ª—å —Å –≥–æ—Ç–æ–≤—ã–º –ø–ª–∞–Ω–æ–º</div>
    </div>
  </div>
</div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–µ—Ç–∞–ª–µ–π —Ü–µ–ª–∏ -->
  <div id="goal-detail-modal" class="modal">
    <div class="modal-content modal-wide">
      <div id="goal-detail-content"></div>
    </div>
  </div>

  <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
  <div id="toast-container"></div>

  <script src="main.js"></script>
</body>
</html>